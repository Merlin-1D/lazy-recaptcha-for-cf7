{"version":3,"file":"index.min.js","sources":["../src/index.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\tlet sitekey = recaptcha_params.sitekey;\n\tlet actions = recaptcha_params.actions;\n\tlet inputs = document.querySelectorAll('input, textarea');\n\n\tfunction executeRecaptcha(action) {\n\t\tif (typeof grecaptcha !== \"undefined\") {\n\t\t\tgrecaptcha.ready(function () {\n\t\t\t\tgrecaptcha.execute(sitekey, {action: action})\n\t\t\t\t\t.then(function (token) {\n\t\t\t\t\t\tlet token_inputs = document.querySelectorAll('form.wpcf7-form input[name=\"_wpcf7_recaptcha_response\"]');\n\t\t\t\t\t\tfor (let i = 0; i < token_inputs.length; i++) {\n\t\t\t\t\t\t\ttoken_inputs.item(i).value = token;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet recaptchaEvent = new CustomEvent('wpcf7grecaptchaexecuted', {\n\t\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\t\taction: action,\n\t\t\t\t\t\t\t\ttoken: token\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdocument.dispatchEvent(recaptchaEvent);\n\t\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tloadRecaptchaScript(executeRecaptcha.bind(this, action));\n\t\t}\n\t}\n\n\tfunction loadRecaptchaScript(callback) {\n\t\tlet head = document.querySelector('head');\n\t\tlet script = document.createElement('script');\n\t\tscript.type = 'text/javascript';\n\t\tscript.onload = callback;\n\t\tscript.src = 'https://www.google.com/recaptcha/api.js?render=' + sitekey;\n\t\thead.appendChild(script);\n\t}\n\n\t// Ініціалізація за дією \"homepage\"\n\t// executeRecaptcha(actions.homepage);\n\n\tif (inputs.length > 0) {\n\t\tfor (const input of inputs) {\n\t\t\tinput.addEventListener('change', () => {\n\t\t\t\texecuteRecaptcha(actions.contactform);\n\t\t\t});\n\t\t}\n\t}\n});\n"],"names":["document","addEventListener","let","sitekey","recaptcha_params","actions","inputs","querySelectorAll","executeRecaptcha","action","callback","head","script","grecaptcha","ready","execute","then","token","token_inputs","i","length","item","value","recaptchaEvent","CustomEvent","detail","dispatchEvent","bind","this","querySelector","createElement","type","onload","src","appendChild","input","contactform"],"mappings":"aAAAA,SAASC,iBAAiB,mBAAoB,KAC7CC,IAAIC,EAAUC,iBAAiBD,QAC3BE,EAAUD,iBAAiBC,QAC/BH,IAAII,EAASN,SAASO,iBAAiB,iBAAiB,EAExD,SAASC,EAAiBC,GAyB1B,IAA6BC,EACxBC,EACAC,EA1BsB,aAAtB,OAAOC,WACVA,WAAWC,MAAM,WAChBD,WAAWE,QAAQZ,EAAS,CAACM,OAAQA,CAAM,CAAC,EAC1CO,KAAK,SAAUC,GACff,IAAIgB,EAAelB,SAASO,iBAAiB,yDAAyD,EACtG,IAAKL,IAAIiB,EAAI,EAAGA,EAAID,EAAaE,OAAQD,CAAC,GACzCD,EAAaG,KAAKF,CAAC,EAAEG,MAAQL,EAG9Bf,IAAIqB,EAAiB,IAAIC,YAAY,0BAA2B,CAC/DC,OAAQ,CACPhB,OAAQA,EACRQ,MAAOA,CACR,CACD,CAAC,EAEDjB,SAAS0B,cAAcH,CAAc,CACtC,CAAC,CACH,CAAC,GAM0Bb,EAJPF,EAAiBmB,KAAKC,KAAMnB,CAAM,EAKnDE,EAAOX,SAAS6B,cAAc,MAAM,GACpCjB,EAASZ,SAAS8B,cAAc,QAAQ,GACrCC,KAAO,kBACdnB,EAAOoB,OAAStB,EAChBE,EAAOqB,IAAM,kDAAoD9B,EACjEQ,EAAKuB,YAAYtB,CAAM,EARxB,CAcA,GAAoB,EAAhBN,EAAOc,OACV,IAAK,MAAMe,KAAS7B,EACnB6B,EAAMlC,iBAAiB,SAAU,KAChCO,EAAiBH,EAAQ+B,WAAW,CACrC,CAAC,CAGJ,CAAC"}